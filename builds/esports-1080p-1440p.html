<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esports 1080p/1440p Build | CustomPC.tech</title>
  <link rel="icon" type="image/png" sizes="32x32" href="../images/logo.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="../images/logo.png" />
  <link rel="shortcut icon" href="../images/logo.png" />
  <link rel="apple-touch-icon" href="../images/logo.png" />
  <style>
    :root{
      --space:15px;
      --bg:#0a0f1a; --ink:#e9eefc; --muted:#aeb9d4;
      --panel:#111729; --panel2:#0d1426; --border:rgba(255,255,255,.08);
      --accent1:#7db2ff; --accent2:#7cf2e6;
      --radius:18px; --shadow:0 20px 40px rgba(0,0,0,.35);
      --max:1200px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:system-ui,Segoe UI,Roboto,Inter,Arial;color:var(--ink);
      background:radial-gradient(1200px 600px at 50% -10%, #0f162b 8%, transparent 55%), linear-gradient(#081021, #0a0f1a 40%, #0a0f1a);
      line-height:1.55
    }
    .wrap{max-width:var(--max);margin:0 auto;padding:28px}

    /* Header */
    header{
      display:flex;align-items:center;justify-content:space-between;
      margin-bottom:var(--space);padding:0 var(--space);
      max-width:var(--max);margin-left:auto;margin-right:auto;width:100%
    }
    .brand a{display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit;font-weight:700;letter-spacing:.3px;white-space:nowrap}
    nav{display:flex;gap:var(--space);flex-wrap:wrap}
    .pill{display:inline-block;padding:10px 14px;border-radius:999px;color:var(--ink);text-decoration:none;border:1px solid transparent}
    .pill:hover{background:#0f1830}
    .pill.active{background:linear-gradient(120deg,rgba(125,178,255,.15),rgba(124,242,230,.15));border-color:rgba(255,255,255,.08)}

    /* Build Content */
    .build-container {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: var(--space);
      margin: var(--space) 0;
    }
    @media (max-width: 900px) {
      .build-container {
        grid-template-columns: 1fr;
      }
    }
    .build-image {
      border-radius: var(--radius);
      border: 1px solid var(--border);
      overflow: hidden;
      height: 700px;
      background: #0c1426;
    }
    .build-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .build-specs {
      background: var(--panel2);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: var(--space);
    }
    .build-specs h2 {
      margin-top: 0;
      margin-bottom: var(--space);
      font-size: 26px;
    }
    .spec-list {
      list-style: none;
      padding: 0;
      margin: 0 0 var(--space) 0;
    }
    .spec-list li {
      padding: 8px 0;
      border-bottom: 1px solid var(--border);
    }
    .spec-list li:last-child {
      border-bottom: none;
    }
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: var(--space) 0;
    }
    .chip {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 0.9rem;
    }
    .btn-request {
      display: inline-block;
      padding: 12px 24px;
      background: linear-gradient(90deg, var(--accent1), var(--accent2));
      color: #0b0f1a;
      text-decoration: none;
      border-radius: 12px;
      font-weight: 700;
      margin-top: var(--space);
      box-shadow: 0 8px 22px rgba(117, 194, 255, 0.25);
    }
    .build-description {
      margin-bottom: var(--space);
      color: var(--muted);
      font-size: 1.1rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <a href="../index.html">
          <img src="../images/logo.png" alt="CustomPC.tech logo"
            style="height:100px;width:100px;display:inline-block;vertical-align:middle;object-fit:contain;border-radius:50%;" />
          <span style="margin-left:8px;vertical-align:middle;">CustomPC.tech</span>
        </a>
      </div>
      <nav>
        <a class="pill" href="../builds.html">Builds</a>
        <a class="pill" href="../index.html">Custom PC</a>
        <a class="pill" href="../about.html">About</a>
        <a class="pill" href="../contact.html">Contact</a>
      </nav>
    </header>

    <div class="build-container">
      <div class="build-content">
        <div class="build-image">
          <img src="../images/build_01.png" alt="Esports 1080p/1440p Build">
        </div>
        <div class="build-description">
          <p>This high-performance gaming PC is optimized for competitive esports titles like Valorant and CS2, delivering buttery-smooth frame rates at 1080p and 1440p resolutions. The air-cooled design ensures quiet operation even during intense gaming sessions, while the carefully selected components provide excellent thermals and low input latency.</p>
        </div>
      </div>
      
      <div class="build-specs">
        <h2>Esports 1080p/1440p</h2>
        <p class="muted">High FPS for competitive gaming. Air-cooled, low noise.</p>
        
        <h3>Specifications</h3>
        <ul class="spec-list">
          <li><strong>CPU:</strong> 6–8 core "current-gen" class</li>
          <li><strong>GPU:</strong> Mid–high tier (great for 1440p esports)</li>
          <li><strong>RAM:</strong> 32GB DDR5, dual-channel</li>
          <li><strong>Storage:</strong> 1TB NVMe Gen4</li>
          <li><strong>Cooling:</strong> Quiet tower air cooler</li>
          <li><strong>Case:</strong> Airflow-focused ATX</li>
          <li><strong>PSU:</strong> 750W 80+ Gold</li>
        </ul>

        <div class="chips">
          <span class="chip">Low input latency</span>
          <span class="chip">Thermals under control</span>
          <span class="chip">Simple upgrades later</span>
        </div>

        <a href="../index.html?build=Esports%201080p%2F1440p&message=Interested%20in%20Esports%201080p/1440p%20build" class="btn-request">Request This Build</a>
      </div>
    </div>

    <!-- Size & Dimensions Section -->
    <section class="dimensions-section" style="margin-top: var(--space); background: var(--panel2); border: 1px solid var(--border); border-radius: var(--radius); padding: var(--space);">
      <h3 style="margin-top: 0; margin-bottom: var(--space); color: var(--accent1);">Size & Dimensions</h3>
      <div class="dimensions-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space);">
        <div class="dimension-item">
          <strong>Height:</strong> 450mm (17.7")
        </div>
        <div class="dimension-item">
          <strong>Width:</strong> 200mm (7.9")
        </div>
        <div class="dimension-item">
          <strong>Depth:</strong> 400mm (15.7")
        </div>
        <div class="dimension-item">
          <strong>Weight:</strong> ~12kg (26.5 lbs)
        </div>
        <div class="dimension-item">
          <strong>Form Factor:</strong> ATX Mid-Tower
        </div>
        <div class="dimension-item">
          <strong>Clearance:</strong> 165mm CPU, 320mm GPU
        </div>
      </div>
    </section>

    <!-- Reviews Section -->
    <section class="reviews-section" style="margin-top: var(--space); background: var(--panel2); border: 1px solid var(--border); border-radius: var(--radius); padding: var(--space);">
      <h3 style="margin-top: 0; margin-bottom: var(--space); color: var(--accent1);">Reviews</h3>
      
      <!-- Review Form -->
      <div id="review-form" style="margin-bottom: var(--space);">
        <h4 style="margin-top: 0; margin-bottom: 12px;">Write a Review</h4>
        <form id="review-form-content" onsubmit="event.preventDefault(); reviewSystem.handleSubmit('esports-1080p-1440p');">
          <div style="margin-bottom: 12px;">
            <div class="star-rating" style="font-size: 24px; margin-bottom: 8px;">
              <span class="star" data-rating="1" style="cursor: pointer;">☆</span>
              <span class="star" data-rating="2" style="cursor: pointer;">☆</span>
              <span class="star" data-rating="3" style="cursor: pointer;">☆</span>
              <span class="star" data-rating="4" style="cursor: pointer;">☆</span>
              <span class="star" data-rating="5" style="cursor: pointer;">☆</span>
              <input type="hidden" id="review-rating" value="0">
            </div>
          </div>
          <div style="margin-bottom: 12px;">
            <textarea id="review-text" 
              style="width: 100%; min-height: 100px; padding: 12px; border-radius: 8px; background: var(--panel); border: 1px solid var(--border); color: var(--ink);" 
              placeholder="Share your thoughts about this build..." required></textarea>
          </div>
          <button type="submit" 
            style="background: var(--accent1); color: #0b0f1a; border: none; padding: 10px 20px; border-radius: 6px; font-weight: 600; cursor: pointer;">
            Submit Review
          </button>
        </form>
      </div>
      
      <!-- Reviews Container -->
      <div id="reviews-container-esports-1080p-1440p">
        <!-- Reviews will be loaded here -->
      </div>
      <div id="reviews-container-esports-1080p-1440p" class="reviews-list">
        <!-- Reviews will be loaded here by JavaScript -->
      </div>
      
      <!-- Review Submission Form -->
      <div class="review-form-container" style="margin-top: var(--space); padding-top: var(--space); border-top: 1px solid var(--border);">
        <button id="leave-review-btn" class="btn-secondary" style="background: var(--panel); border: 1px solid var(--border); color: var(--ink); padding: 10px 16px; border-radius: 8px; cursor: pointer; font-weight: 700;">
          Leave a Review
        </button>
        
        <div id="review-form" class="review-form" style="display: none; margin-top: var(--space); background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: var(--space);">
          <h4 style="margin-top: 0; margin-bottom: var(--space);">Write a Review</h4>
          
          <div class="rating-selector" style="margin-bottom: var(--space);">
            <label style="display: block; margin-bottom: 8px; font-weight: 700;">Rating:</label>
            <div class="star-rating" style="font-size: 1.5rem; margin-bottom: 8px;">
              <span class="rating-star" data-rating="1" style="cursor: pointer; color: var(--muted); margin-right: 4px;">☆</span>
              <span class="rating-star" data-rating="2" style="cursor: pointer; color: var(--muted); margin-right: 4px;">☆</span>
              <span class="rating-star" data-rating="3" style="cursor: pointer; color: var(--muted); margin-right: 4px;">☆</span>
              <span class="rating-star" data-rating="4" style="cursor: pointer; color: var(--muted); margin-right: 4px;">☆</span>
              <span class="rating-star" data-rating="5" style="cursor: pointer; color: var(--muted); margin-right: 4px;">☆</span>
            </div>
            <div class="rating-text" style="color: var(--muted); font-size: 0.9rem;">Click stars to rate (optional)</div>
          </div>
          
          <div class="review-text-input" style="margin-bottom: var(--space);">
            <label for="review-text" style="display: block; margin-bottom: 8px; font-weight: 700;">Review:</label>
            <textarea id="review-text" placeholder="Share your experience with this build..." style="width: 100%; min-height: 100px; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--ink); resize: vertical; font-family: inherit;"></textarea>
            <div class="char-count" style="color: var(--muted); font-size: 0.8rem; margin-top: 4px;">Minimum 10 characters</div>
          </div>
          
          <div class="form-actions" style="display: flex; gap: 12px;">
            <button id="submit-review" class="btn-primary" style="background: linear-gradient(90deg, var(--accent1), var(--accent2)); color: #0b0f1a; border: 0; padding: 10px 16px; border-radius: 8px; cursor: pointer; font-weight: 700;">
              Submit Review
            </button>
            <button id="cancel-review" class="btn-secondary" style="background: var(--panel2); border: 1px solid var(--border); color: var(--ink); padding: 10px 16px; border-radius: 8px; cursor: pointer; font-weight: 700;">
              Cancel
            </button>
          </div>
    </section>
  </div>

  <!-- Include Review System -->
  <script src="../review-system.js"></script>
  <script>
    // Initialize review system
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize the review system
      window.reviewSystem = new ReviewSystem();
      
      // Load reviews for this build
      reviewSystem.loadReviews('esports-1080p-1440p');
      
      // Initialize star rating selector
      const stars = document.querySelectorAll('.star-rating .star');
      const ratingInput = document.getElementById('review-rating');
      
      stars.forEach(star => {
        star.addEventListener('click', function() {
          const rating = this.getAttribute('data-rating');
          ratingInput.value = rating;
          
          // Update star display
          stars.forEach((s, index) => {
            s.textContent = index < rating ? '★' : '☆';
            s.style.color = index < rating ? '#ffd700' : '#666';
          });
        });
      });
    });
    
    // Add handleSubmit function to global scope
    window.handleReviewSubmit = function(buildId) {
      const rating = parseInt(document.getElementById('review-rating').value);
      const text = document.getElementById('review-text').value.trim();
      
      if (!rating) {
        alert('Please select a rating');
        return;
      }
      
      if (!text) {
        alert('Please enter your review text');
        return;
      }
      
      reviewSystem.submitReview(buildId, { rating, text });
      document.getElementById('review-text').value = '';
      document.getElementById('review-rating').value = '0';
      document.querySelectorAll('.star-rating .star').forEach(star => {
        star.textContent = '☆';
        star.style.color = '#666';
      });
    };
  </script>
  <script>
    // Other page-specific scripts
    function createStarRating(rating) {
      let stars = '';
      for (let i = 1; i <= 5; i++) {
        if (i <= rating) {
          stars += '<span class="star filled">★</span>';
        } else {
          stars += '<span class="star">☆</span>';
        }
      }
      return stars;
    }

    async function loadReviews(buildId) {
      const container = document.getElementById(`reviews-container-${buildId}`);
      container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: var(--space);">Loading reviews...</p>';
      
      try {
        const response = await fetch(`https://api.jsonbin.io/v3/b/677040e5ad19ca34f8c8f8a2`, {
          method: 'GET',
          headers: {
            'X-Master-Key': '$2a$10$Vq8Rj2Lm9Np5Xt7Yw4Zu6Ae3Bf8Cg1Dh5Ei9Fk2Gl7Hm0Jn4Op6Qr'
          }
        });
        
        let allReviews = {};
        if (response.ok) {
          const data = await response.json();
          allReviews = data.record || {};
        }
        
        const reviews = allReviews[buildId] || [];
        localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(reviews));
      } catch (error) {
        console.error('Error loading reviews:', error);
        const reviews = JSON.parse(localStorage.getItem(`buildReviews_${buildId}`) || '[]');
      }
      
      if (reviews.length === 0) {
        container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: var(--space);">No reviews yet. Be the first to review this build!</p>';
        return;
      }

      container.innerHTML = reviews.map((review, index) => `
        <div class="review-card" data-review-id="${index}" style="background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: var(--space); margin-bottom: var(--space);">
          <div class="review-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <div class="review-author" style="font-weight: 700;">${review.author}</div>
            <div style="display: flex; align-items: center; gap: 12px;">
              <div class="review-date" style="color: var(--muted); font-size: 0.9rem;">${review.date}</div>
              <div class="review-actions" style="display: flex; gap: 8px;">
                <button onclick="editReview('${buildId}', ${index})" style="background: var(--accent1); color: #0b0f1a; border: 0; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Edit</button>
                <button onclick="deleteReview('${buildId}', ${index})" style="background: #ff6b6b; color: white; border: 0; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">Delete</button>
              </div>
            </div>
          </div>
          <div class="review-rating" style="margin-bottom: 8px;">
            <div class="stars" style="color: var(--accent1); font-size: 1.2rem;">
              ${createStarRating(review.rating)}
            </div>
          </div>
          <div class="review-text" style="line-height: 1.5;">
            ${review.text}
          </div>
        </div>
      `).join('');
    }

    async function submitReview(buildId, reviewData) {
      reviewData.userId = getUserId();
      
      try {
        const response = await fetch(`https://api.jsonbin.io/v3/b/677040e5ad19ca34f8c8f8a2`, {
          method: 'GET',
          headers: {
            'X-Master-Key': '$2a$10$Vq8Rj2Lm9Np5Xt7Yw4Zu6Ae3Bf8Cg1Dh5Ei9Fk2Gl7Hm0Jn4Op6Qr'
          }
        });
        
        let allReviews = {};
        if (response.ok) {
          const data = await response.json();
          allReviews = data.record || {};
        }
        
        if (!allReviews[buildId]) {
          allReviews[buildId] = [];
        }
        allReviews[buildId].unshift(reviewData);
        
        await fetch(`https://api.jsonbin.io/v3/b/677040e5ad19ca34f8c8f8a2`, {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'X-Master-Key': '$2a$10$Vq8Rj2Lm9Np5Xt7Yw4Zu6Ae3Bf8Cg1Dh5Ei9Fk2Gl7Hm0Jn4Op6Qr'
          },
          body: JSON.stringify(allReviews)
        });
        
        localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(allReviews[buildId]));
      } catch (error) {
        console.error('Error saving review:', error);
        const reviews = JSON.parse(localStorage.getItem(`buildReviews_${buildId}`) || '[]');
        reviews.unshift(reviewData);
        localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(reviews));
      }
      
      loadReviews(buildId);
    }

    function editReview(buildId, reviewIndex) {
      const reviews = JSON.parse(localStorage.getItem(`buildReviews_${buildId}`) || '[]');
      const review = reviews[reviewIndex];
      
      if (!review) return;
      
      // Show the review form
      document.getElementById('review-form').style.display = 'block';
      document.getElementById('leave-review-btn').style.display = 'none';
      
      // Populate form with existing data
      document.getElementById('review-text').value = review.text;
      
      // Set rating
      const ratingInputs = document.querySelectorAll('input[name="rating"]');
      ratingInputs.forEach(input => {
        input.checked = input.value == review.rating;
      });
      
      // Change submit button to update
      const submitBtn = document.getElementById('submit-review');
      submitBtn.textContent = 'Update Review';
      submitBtn.onclick = () => updateReview(buildId, reviewIndex);
    }

    function updateReview(buildId, reviewIndex) {
      const reviews = JSON.parse(localStorage.getItem(`buildReviews_${buildId}`) || '[]');
      const rating = document.querySelector('input[name="rating"]:checked')?.value;
      const text = document.getElementById('review-text').value.trim();
      
      if (!rating || text.length < 10) {
        alert('Please provide a rating and at least 10 characters of text.');
        return;
      }
      
      // Update the review
      reviews[reviewIndex] = {
        ...reviews[reviewIndex],
        rating: parseInt(rating),
        text: text,
        date: new Date().toLocaleDateString()
      };
      
      localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(reviews));
      loadReviews(buildId);
      
      // Reset form
      document.getElementById('review-form').style.display = 'none';
      document.getElementById('leave-review-btn').style.display = 'block';
      document.getElementById('submit-review').textContent = 'Submit Review';
      document.getElementById('submit-review').onclick = null;
      document.getElementById('review-text').value = '';
      document.querySelectorAll('input[name="rating"]').forEach(input => input.checked = false);
    }

    function deleteReview(buildId, reviewIndex) {
      if (!confirm('Are you sure you want to delete this review?')) return;
      
      const reviews = JSON.parse(localStorage.getItem(`buildReviews_${buildId}`) || '[]');
      reviews.splice(reviewIndex, 1);
      localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(reviews));
      loadReviews(buildId);
    }

    function initializeRatingSelector() {
      const stars = document.querySelectorAll('.rating-star');
      let selectedRating = 0;

      stars.forEach(star => {
        star.addEventListener('click', function() {
          selectedRating = parseInt(this.dataset.rating);
          updateStarDisplay(selectedRating);
        });

        star.addEventListener('mouseenter', function() {
          const hoverRating = parseInt(this.dataset.rating);
          updateStarDisplay(hoverRating);
        });
      });

      document.querySelector('.star-rating').addEventListener('mouseleave', function() {
        updateStarDisplay(selectedRating);
      });

      function updateStarDisplay(rating) {
        stars.forEach((star, index) => {
          if (index < rating) {
            star.textContent = '★';
            star.style.color = 'var(--accent1)';
          } else {
            star.textContent = '☆';
            star.style.color = 'var(--muted)';
          }
        });
      }

      return () => selectedRating;
    }

    // Add sample reviews for demonstration (only if no reviews exist)
    function addSampleReviews() {
      const buildId = 'esports-1080p-1440p';
      const existing = localStorage.getItem(`buildReviews_${buildId}`);
      if (!existing || JSON.parse(existing).length === 0) {
        const sampleReviews = [
          {
            id: 'sample_1',
            author: 'ProGamer_2024',
            date: '12/15/2024',
            rating: 5,
            text: 'Incredible build for competitive gaming! Getting 400+ FPS in Valorant consistently. The thermals are excellent and it runs whisper quiet even during intense matches.'
          },
          {
            id: 'sample_2', 
            author: 'StreamerLife',
            date: '12/10/2024',
            rating: 4,
            text: 'Great performance for the price point. Perfect for 1440p esports gaming. Only minor complaint is I wish it had a bit more RGB, but the performance more than makes up for it.'
          }
        ];
        localStorage.setItem(`buildReviews_${buildId}`, JSON.stringify(sampleReviews));
      }
    }

    // Load reviews when page loads
    document.addEventListener('DOMContentLoaded', function() {
      addSampleReviews();
      loadReviews('esports-1080p-1440p');
      
      const getRating = initializeRatingSelector();
      const leaveReviewBtn = document.getElementById('leave-review-btn');
      const reviewForm = document.getElementById('review-form');
      const submitBtn = document.getElementById('submit-review');
      const cancelBtn = document.getElementById('cancel-review');
      const reviewText = document.getElementById('review-text');

      leaveReviewBtn.addEventListener('click', function() {
        reviewForm.style.display = 'block';
        leaveReviewBtn.style.display = 'none';
        reviewText.focus();
      });

      cancelBtn.addEventListener('click', function() {
        reviewForm.style.display = 'none';
        leaveReviewBtn.style.display = 'block';
        reviewText.value = '';
        // Reset rating
        document.querySelectorAll('.rating-star').forEach(star => {
          star.textContent = '☆';
          star.style.color = 'var(--muted)';
        });
      });

      submitBtn.addEventListener('click', function() {
        const text = reviewText.value.trim();
        const rating = getRating();

        if (text.length < 10) {
          alert('Please write at least 10 characters for your review.');
          return;
        }

        const review = {
          id: 'review_' + Date.now(),
          author: 'Anonymous',
          date: new Date().toLocaleDateString(),
          rating: rating,
          text: text
        };

        submitReview('esports-1080p-1440p', review);
        
        // Reset form
        reviewForm.style.display = 'none';
        leaveReviewBtn.style.display = 'block';
        reviewText.value = '';
        document.querySelectorAll('.rating-star').forEach(star => {
          star.textContent = '☆';
          star.style.color = 'var(--muted)';
        });

        alert('Review submitted successfully!');
      });
    });
  </script>

  <style>
    .star {
      color: var(--muted);
      margin-right: 2px;
    }
    .star.filled {
      color: var(--accent1);
    }
  </style>
</body>
</html>

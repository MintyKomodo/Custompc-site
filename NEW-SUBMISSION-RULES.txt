================================================================================
                    NEW SUBMISSION ROUTING RULES
                    Firebase â†’ Admin Chats System
================================================================================

RULE 1: ALL SUBMISSIONS GO THROUGH FIREBASE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- Contact forms from /contact.html â†’ Firebase chat session
- Quote requests from /index.html#request â†’ Firebase chat session
- No more Formspree emails
- All submissions appear in admin panel at /admin-chats.html


RULE 2: SUBMISSION TYPES & IDENTIFICATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

TYPE: CONTACT
  Source: /contact.html
  Fields: name, email, message
  Firebase Type: "contact"
  Admin Display: "Contact: [Name]"
  Example: "Contact: John Doe"

TYPE: QUOTE REQUEST
  Source: /index.html#request
  Fields: name, email, buildType, budget, message
  Firebase Type: "quote_request"
  Admin Display: "Quote Request: [BuildType] - [Budget]"
  Example: "Quote Request: Creator 4K - $3000"


RULE 3: FIREBASE DATA STORAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Path: chats/{chatId}/
  - customerName: "John Doe"
  - customerEmail: "john@example.com"
  - type: "contact" or "quote_request"
  - source: "Contact Form" or "Quote Request Form"
  - subject: "Contact: John Doe" or "Quote Request: Creator 4K - $3000"
  - createdAt: {Firebase timestamp}
  - lastActivity: {Firebase timestamp}
  - status: "active"
  - messages/
      - {messageId}/
          - type: "user"
          - content: "Formatted submission message"
          - userId: "john@example.com"
          - userName: "John Doe"
          - timestamp: {Firebase timestamp}

Path: userChats/{username}/{chatId}/
  - chatId: "auto-generated"
  - title: "Contact: John Doe"
  - createdAt: {Firebase timestamp}
  - lastActivity: {Firebase timestamp}
  - status: "active"


RULE 4: SUBMISSION HANDLER API
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Function: window.submissionHandler.submitContact(data)
  Input: { name, email, message }
  Output: { success, chatId, message }
  Usage: await window.submissionHandler.submitContact({
           name: "John",
           email: "john@example.com",
           message: "Hello..."
         })

Function: window.submissionHandler.submitQuoteRequest(data)
  Input: { name, email, buildType, budget, message }
  Output: { success, chatId, message }
  Usage: await window.submissionHandler.submitQuoteRequest({
           name: "Jane",
           email: "jane@example.com",
           buildType: "Creator 4K",
           budget: "$3000",
           message: "Need 4K editing..."
         })


RULE 5: ADMIN WORKFLOW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Step 1: Log into /admin-chats.html
Step 2: View "Active Chats" sidebar
Step 3: See new submissions as chat items
Step 4: Click submission to open chat
Step 5: Read full submission details
Step 6: Type reply in message input
Step 7: Click "Send" to respond
Step 8: Conversation saved in Firebase


RULE 6: SUBMISSION MESSAGE FORMAT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CONTACT FORM MESSAGE:
  ğŸ“§ **Contact Form Submission**
  
  **From:** John Doe
  **Email:** john@example.com
  
  **Message:**
  I have a question about custom PC builds...

QUOTE REQUEST MESSAGE:
  ğŸ’» **Quote Request**
  
  **Name:** Jane Smith
  **Email:** jane@example.com
  **Build Type:** Creator 4K
  **Budget:** $3000
  
  **Additional Notes:**
  I need a PC for video editing with 4K support...


RULE 7: USER EXPERIENCE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

SUCCESS:
  - Form shows loading state (button disabled)
  - Submission sent to Firebase
  - Success message: "Thanks! Your message was sent â€” we'll get back within 24â€“48 hours."
  - Form resets
  - Admin receives notification in chat panel

ERROR:
  - Form shows loading state (button disabled)
  - Submission fails (Firebase error, network issue, etc.)
  - Error message: "Something went wrong. Please try again or email us directly."
  - Form remains filled so user can retry
  - User can call/text 615-544-5715 as alternative


RULE 8: FIREBASE REQUIREMENTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ Firebase Realtime Database must be enabled
âœ“ Database URL: https://custompc-website-default-rtdb.firebaseio.com
âœ“ Database rules must allow read/write to chats/ and userChats/ paths
âœ“ Firebase config in /config/firebase-config.js must be correct
âœ“ Firebase SDK loaded in HTML files


RULE 9: FILES INVOLVED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CREATED:
  - frontend/submission-handler.js (handles all submissions)

UPDATED:
  - contact.html (uses Firebase instead of Formspree)
  - index.html (uses Firebase instead of Formspree)

REQUIRED:
  - config/firebase-config.js (Firebase initialization)
  - admin-chats.html (admin panel to view submissions)


RULE 10: TESTING CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â–¡ Test contact form at /contact.html
  - Fill in name, email, message
  - Click "Send"
  - See success message
  - Check admin panel for new chat

â–¡ Test quote request at /index.html#request
  - Fill in all fields
  - Check Terms of Service
  - Click "Get My Build Plan"
  - See success message
  - Check admin panel for new chat

â–¡ Verify Firebase connection
  - Open browser console
  - Look for "âœ… Firebase initialized" message
  - Check for any error messages

â–¡ Test admin response
  - Log into /admin-chats.html
  - Click on submission
  - Type reply
  - Click "Send"
  - Verify message appears in chat


RULE 11: TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PROBLEM: Submissions not appearing in admin panel
  â†’ Check Firebase is initialized (browser console)
  â†’ Verify Firebase Realtime Database is enabled
  â†’ Check database rules allow write access to chats/ path

PROBLEM: Form shows error after submission
  â†’ Check browser console for error messages
  â†’ Verify Firebase config is correct
  â†’ Check network tab for Firebase request failures

PROBLEM: Submission handler not loading
  â†’ Verify frontend/submission-handler.js exists
  â†’ Check script tag is in HTML
  â†’ Look for 404 errors in browser console


RULE 12: NO MORE EMAIL NOTIFICATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

REMOVED:
  âœ— Formspree email submissions
  âœ— Email notifications when forms submitted
  âœ— External email service dependency

ADDED:
  âœ“ Real-time Firebase submissions
  âœ“ Admin panel chat interface
  âœ“ Instant notification in admin panel
  âœ“ All data stays in your Firebase


================================================================================
                            END OF RULES
================================================================================

For detailed documentation, see:
  - SUBMISSION-RULES.md (complete reference)
  - SUBMISSION-SETUP-SUMMARY.md (quick start)

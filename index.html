<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Contact ‚Äì CustomPC.tech</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    .kicker{letter-spacing:.12em;text-transform:uppercase;font-size:12px;opacity:.75}
    .card-tight{padding:16px;max-width:980px;margin:0 auto 16px}
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .form-grid .full{grid-column:1/-1}
    .input,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:rgba(0,0,0,.35);color:#e9eefc;outline:none}
    textarea{min-height:140px;resize:vertical}
    .row.gap{gap:10px}
    .btn.secondary{background:rgba(255,255,255,.06)}
    .btn.secondary:hover{background:rgba(255,255,255,.1)}
    .sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
    .trust{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .badges{display:flex;flex-wrap:wrap;gap:10px}
    .badge{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px;background:rgba(0,0,0,.28)}
    .reviews{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .review{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;background:rgba(0,0,0,.28)}
    @media (max-width:880px){ .trust{grid-template-columns:1fr}.reviews{grid-template-columns:1fr} }
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    .g-item{border:1px solid rgba(255,255,255,.08);border-radius:12px;overflow:hidden;background:rgba(0,0,0,.28)}
    .g-item img{display:block;width:100%;height:160px;object-fit:cover}
    @media (max-width:900px){.gallery{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){.gallery{grid-template-columns:1fr}}
    .status{display:none;margin-top:12px;padding:10px 12px;border-radius:10px;background:rgba(0,140,60,.15);border:1px solid rgba(0,140,60,.35);color:#8ff5b4}
    .status.error{background:rgba(160,30,30,.15);border-color:rgba(160,30,30,.4);color:#ffb4b4}
    .cta-bottom{padding:16px;max-width:980px;margin:16px auto;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:rgba(0,0,0,.28);text-align:center}
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Contact</a>
    <a href="custom.html">Custom PC</a>
    <a href="about.html">About</a>
    <a href="builds.html">Builds</a>
    <a href="cart.html">Cart</a>
    <span id="nav-user" class="hidden"></span>
    <a id="nav-login" href="login.html">Log In</a>
    <a id="nav-signup" href="signup.html">Sign Up</a>
    <a id="nav-logout" class="hidden" href="javascript:void(0)">Log Out</a>
  </nav>

  <div class="container">
    <h1>Contact us</h1>
    <p style="opacity:.85;margin:-6px 0 18px">Questions, support, or vendor inquiries ‚Äî we‚Äôll reply fast.</p>

    <!-- Trust -->
    <div class="card card-tight">
      <div class="trust">
        <div class="badges">
          <div class="badge">‚úÖ 1-Year Workmanship Warranty</div>
          <div class="badge">üß™ Burn-in & Stress Tested</div>
          <div class="badge">üì¶ Foam-in-Case Shipping</div>
          <div class="badge">üìß Lifetime Email Support</div>
        </div>
        <div class="reviews">
          <div class="review">‚ÄúBuild quality is insane. Temps are great and it‚Äôs quiet.‚Äù ‚Äî M. Diaz</div>
          <div class="review">‚ÄúThey specced exactly to my Premiere workflow. So much faster.‚Äù ‚Äî T. Chen</div>
        </div>
      </div>
    </div>

    <!-- Contact form -->
    <form id="contactForm" class="card card-tight">
      <input type="text" name="_gotcha" autocomplete="off" class="sr-only" tabindex="-1">
      <div class="kicker">Send us a note</div>
      <div class="form-grid" style="margin-top:10px;">
        <div><label for="name">Your Name</label><input id="name" name="name" class="input" type="text" required></div>
        <div><label for="email">Email</label><input id="email" name="email" class="input" type="email" required></div>
        <div class="full"><label for="message">Message</label><textarea id="message" name="message" placeholder="How can we help?" required></textarea></div>
      </div>
      <div class="row gap" style="margin-top:12px;">
        <button id="submitBtn" class="btn" type="submit">Send</button>
        <a class="btn secondary" href="custom.html">Request a Custom PC</a>
      </div>
      <div id="statusOk" class="status">Thanks! We‚Äôll get back to you shortly.</div>
      <div id="statusErr" class="status error">Couldn‚Äôt send right now. Try again in a moment.</div>
    </form>

    <!-- Mini gallery -->
    <div class="card card-tight">
      <div class="kicker">Recent work</div>
      <div class="gallery">
        <div class="g-item"><img src="https://images.pexels.com/photos/7915355/pexels-photo-7915355.jpeg?auto=compress&cs=tinysrgb&w=1600" alt="Build 1"></div>
        <div class="g-item"><img src="https://images.pexels.com/photos/5553050/pexels-photo-5553050.jpeg?auto=compress&cs=tinysrgb&w=1600" alt="Build 2"></div>
        <div class="g-item"><img src="https://images.pexels.com/photos/5777692/pexels-photo-5777692.jpeg?auto=compress&cs=tinysrgb&w=1600" alt="Build 3"></div>
      </div>
    </div>

    <!-- FedEx helper -->
    <div class="card card-tight">
      <div class="kicker">Track a shipment</div>
      <div class="row gap">
        <input id="fedex" class="input" placeholder="Enter FedEx tracking number">
        <button class="btn" type="button" onclick="trackFedEx()">Track</button>
      </div>
      <div class="hint" style="opacity:.75;margin-top:6px">Opens FedEx in a new tab.</div>
    </div>

    <!-- Bottom CTA -->
    <div class="cta-bottom">
      <h2 style="margin:0 0 8px;">Want a tailored build instead?</h2>
      <p style="opacity:.85;margin:0 0 10px">We‚Äôll design, assemble, stress-test, and ship your perfect PC.</p>
      <a class="btn" href="custom.html">Start my build</a>
    </div>
  </div>

  <script>
    // Prefill if logged in
    (async () => {
      if (window.__authReady) { try { await window.__authReady; } catch {} }
      const u = window.currentUser;
      if (u) {
        if (u.displayName) document.getElementById('name').value = u.displayName;
        if (u.email)       document.getElementById('email').value = u.email;
      }
    })();

    const FORM_ENDPOINT = "https://formspree.io/f/xrblokly";
    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const ok = document.getElementById('statusOk');
    const err = document.getElementById('statusErr');
    const show = el => el.style.display='block';
    const hide = el => el.style.display='none';

    form.addEventListener('submit', async (e) => {
      e.preventDefault(); hide(ok); hide(err);
      submitBtn.disabled = true; submitBtn.textContent = "Sending‚Ä¶";
      try {
        const fd = new FormData(form);
        fd.append("_subject", "Contact ‚Äì CustomPC.tech");
        fd.append("type", "contact");
        if (window.currentUser?.uid) fd.append("firebase_uid", window.currentUser.uid);
        const res = await fetch(FORM_ENDPOINT, { method:"POST", body:fd, headers:{ "Accept":"application/json" } });
        res.ok ? show(ok) : show(err);
        if (res.ok) form.reset();
      } catch { show(err); }
      finally { submitBtn.disabled = false; submitBtn.textContent = "Send"; }
    });

    function trackFedEx(){
      const code = document.getElementById('fedex').value.trim();
      if (!code) { alert("Enter a tracking number"); return; }
      window.open(`https://www.fedex.com/fedextrack/?trknbr=${encodeURIComponent(code)}`, "_blank", "noopener");
    }
  </script>

  <script type="module" src="nav-auth.js"></script>
</body>
</html>
